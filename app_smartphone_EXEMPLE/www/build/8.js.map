{"version":3,"sources":["../../src/pages/camera/camera.module.ts","../../src/pages/camera/camera.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AAUtC,IAAa,gBAAgB;IAA7B;IAA+B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAnB,gBAAgB;IAR5B,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,2DAAU;SACX;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,2DAAU,CAAC;SACrC;KACF,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACZa;AACe;AACzB;AACO;AAEvC;;;;;GAKG;AAOH,IAAa,UAAU;IAKrB,oBAAmB,OAAsB,EAAU,IAAa,EAAS,SAAoB;QAA1E,YAAO,GAAP,OAAO,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAS;QAAS,cAAS,GAAT,SAAS,CAAW;QAJxF,aAAQ,GAAG,EAAE,CAAC;QAMrB,IAAI,CAAC,IAAI,GAAG,IAAI,qDAAM,CAAC,EAAE,CAAC,CAAC;IAEzB,CAAC;IAEH,mCAAc,GAAd;QAAA,iBAkBC;QAjBC,IAAM,SAAS,GACf,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAE7C,IAAI,OAAO,GAAG,gDAAQ,CAAC,OAAO,EAAE,CAAC;QACnC,IAAI,UAAU,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAC/B,IAAI,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;QAEhD,iEAAiE;QACjE,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,wBAAc;YACjC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACf,gDAAQ,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,cAAc,EAAE;qBACjE,IAAI,CAAC,kBAAQ,IAAI,YAAI,CAAC,YAAY,GAAE,QAAQ,EAA3B,CAA2B,CAAC;qBAC7C,KAAK,CAAC,eAAK,IAAG,cAAO,CAAC,GAAG,CAAC,OAAO,EAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC,CAAC;gBAC3C,KAAI,CAAC,QAAQ,GAAG,cAAc,CAAC,GAAG,EAAE,CAAC;YAEvC,CAAC,CAAC,CAAC;QACD,CAAC,CAAC,CAAC;IACP,CAAC;IACD,8BAAS,GAAT;QACG,IAAM,SAAS,GAChB,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAC9C,SAAS,CAAC,MAAM,CAAC;YAChB,SAAS,EAAG,CAAC;SACb,CAAC;IACJ,CAAC;IAED,iBAAC;AAAD,CAAC;AAtCY,UAAU;IAJtB,gEAAS,CAAC;QACT,QAAQ,EAAE,aAAa;OACG;KAC3B,CAAC;eAM6F;AAiC9F;SAtCY,UAAU,e","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CameraPage } from './camera';\n\n@NgModule({\n  declarations: [\n    CameraPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CameraPage),\n  ],\n})\nexport class CameraPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/camera/camera.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport firebase from 'firebase';\nimport { NgZone } from '@angular/core';\n\n/**\n * Generated class for the CameraPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-camera',\n  templateUrl: 'camera.html',\n})\nexport class CameraPage {\npublic myPerson = {};\npublic currentImage;\n\n\n  constructor(public navCtrl: NavController, private zone : NgZone, public navParams: NavParams) {\n\nthis.zone = new NgZone({});\n\n  }\n\nionViewDidLoad() {\n  const personRef: firebase.database.Reference = \n  firebase.database().ref(`/luminositySensor/`);\n\n   var storage = firebase.storage();\n var storageRef = storage.ref();\n var imgRef = storageRef.child('images/test.png');\n\n  //.on() le code se souscrit au noeud et synchronise en temps réel\n  personRef.on('value', personSnapshot => \n  {  this.zone.run(() =>{\n    firebase.storage().ref().child('images/test.png').getDownloadURL()\n    .then(response => this.currentImage= response)\n    .catch(error =>console.log('error',error));\n    this.myPerson = personSnapshot.val();\n\n  });\n    });\n}\npicturePi(){\n\t  const personRef: firebase.database.Reference = \n  firebase.database().ref(`/luminositySensor/`);\n  personRef.update({ //update() met à jour les éléments du noeuds\n   camStatus : 1\n  })\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/camera/camera.ts"],"sourceRoot":""}